<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arithmetic</title>
    <link rel="stylesheet" href="style.css">
  <style>
  

*{
          
            font-weight: bolder;
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
            font-size: 35px;
        }

    body {
     margin: 0;
     padding: 0;
    }

    #board-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;

    }

    #mathboard {
  display: block;
  grid-template-columns: repeat(3, 1fr);
  grid-column-gap: 10px; /* Adjust the gap between columns */
  width: 240px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

#numerator,
#operator,
#denominator{
  display: flex;
  align-items: center;
}

#numerator input,
#operator input,
#denominator {
  flex: 1;
 
  margin: 1px;
  border: 2px solid #068cad;
  border-radius: 3px;
  box-sizing: border-box;
  width: calc(10% - 1px); /* Adjust the input width */
}

    button {
      width: 110px;
      background-color: #9cffd9;

      color: #0a0400;
     
      margin: 8px 0;
      border: none;
      border-radius: 4px;
      cursor: pointer;
     
    }

    button:hover {
      background-color: #c0f09f;
    }

    .letters {
      width: 40px;
     
      margin: 1px;
      border: 1px solid #53add6;
      border-radius: 5px;
      background-color: #d8f3dc;
      cursor: pointer;
    }

    .letters:hover {
      background-color: #2cfc60;
    }


    #question{
      justify-self: center;
      margin: 0 auto;
      width: 400px; 
      color: #0a0400;
      background-color: lightgoldenrodyellow;
      text-align: center;
      margin-bottom: 15px;
    }

    #questions {
      justify-self: center;
      margin: 0 auto;
      width: 400px;
      
   
      color: #0a0400;
      background-color: lightgoldenrodyellow;
      text-align: center;
    }
    #message {
      position: relative;
      width: 100%;
      color: #0a0400;
      background-color: lightgoldenrodyellow;
      justify-content: center;
      margin-bottom: 20px;
    }

    #tablenum {
      width: 90%;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      
    }


    img {
      width: 50px;
      height: 50px;
   
      /* Replace 'apple.png' with your apple image file */
      background-size: contain;
      margin: 2px;

    }
#qoperators{
  
  color: rgb(241, 34, 7);
}
    #explanation {
      
width:100%;
      text-align: center;
   
      color: #02383a;
     
      background-color: #d8f3dc;
      opacity: .9;
    }

    #num1Apples,
    #num2Apples,
    #resultApples,
    #qoperators {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    
      margin: 0 auto;
      width: 60%;
     
    }

    input {
     width: 100px;
     box-sizing: border-box;
     border: 2px solid #0f0101;
     border-radius: 4px;
     color: #000000;
     text-align: right;

  
     background-color: rgb(207, 199, 199);
   }

@media screen and (max-width: 600px) {
  #explanation {
  
width:100%;
      text-align: center;
   
      color: #02383a;
  
      background-color: rgb(223, 253, 220);
      opacity: .9;
    }

      

}


  </style>

   
</head>
<body>
    
    <a href="index.html" style="background-color: rgb(199, 253, 6); border-radius: 10px; box-shadow: 0px -4px 5px 2px  #474141;">Arithmetic </a>
    
    <hr>
  
    <button id="question" onclick="generateQuestion()" >Generate Question</button>
    <div id="questions"> </div>
    <div id="board-container">
    
      <div id="explanation">
        <span>Presentation:</span>
        <div id="num1Apples"></div>
      <div id="qoperators" >x</div>
    

        <div id="num2Apples"></div>
        <span style="font-weight: bolder; font-size: larger; font: 1.5em sans-serif;
        color: rgb(241, 34, 7);"> = </span>
        <div id="resultApples"></div>
  
     
       
      <div id="answer-button">
        <div id="answerInput-cont">
          <input id="answerInput">
        
        </div>
        <button onclick="checkAnswer()">Check</button>
        <button  onclick="clearAnswer()" style="background-color: brown;">Clear</button>
        <div id="message" style="font-weight: bolder;"></div>
      </div>
    </div> 
   
  <div id="tablenum">
        <p onclick="document.getElementById('answerInput').value += '0'" class="letters">0</p>
        <p onclick="document.getElementById('answerInput').value += '1'" class="letters">1</p>
        <p onclick="document.getElementById('answerInput').value += '2'" class="letters">2</p>
        <p onclick="document.getElementById('answerInput').value += '3'" class="letters">3</p>
        <p onclick="document.getElementById('answerInput').value += '4'" class="letters">4</p>
        <p onclick="document.getElementById('answerInput').value += '5'" class="letters">5</p>
        <p onclick="document.getElementById('answerInput').value += '6'" class="letters">6</p>
        <p onclick="document.getElementById('answerInput').value += '7'" class="letters">7</p>
        <p onclick="document.getElementById('answerInput').value += '8'" class="letters">8</p>
        <p onclick="document.getElementById('answerInput').value += '9'" class="letters">9</p>
        <p onclick="document.getElementById('answerInput').value += '-'" class="letters">-</p>
        <p onclick="document.getElementById('answerInput').value += '.'" class="letters">.</p>
        
  </div>
    
   

   

    </div>
   
  <audio id="Correct" src="./audio/That is correct.mp3"></audio>
  <audio id="Incorrect" src="./audio/That is Incorrect.mp3"></audio>

  <script>
function generateQuestion() {
const operators = ['+', '-', '*', '/'];

let num1 = Math.floor(Math.random() * 10) + 1;
let num2 = Math.floor(Math.random() * num1);

// Make sure num1 and num2 are integers when dividing
if (operators[Math.floor(Math.random() * operators.length)] === '/') {
num1 = Math.floor(Math.random() * 8) + 2;
num2 = Math.floor(Math.random() * num1);
}

const operator = operators[Math.floor(Math.random() * operators.length)];

let operatorText;
switch (operator) {
case '+':
operatorText = 'plus';
break;
case '-':
operatorText = 'minus';
break;
case '*':
operatorText = 'times';
break;
case '/':
if (num1 % num2 !== 0) {
return generateQuestion(); // don't ask questions with fractions in answer
}
operatorText = 'divided by';
break;
}

// Set the question text
document.getElementById('questions').textContent = `${num1} ${operator} ${num2}`;
document.getElementById('qoperators').innerHTML = operator;

// Use zero image if num1 or num2 is 0
if (num1 === 0) {
document.getElementById('num1Apples').innerHTML = '<img src="./images/zero.png">';
} else {
// Set the explanation using apple images for num1
document.getElementById('num1Apples').innerHTML = '';
for (let i = 0; i < num1; i++) {
document.getElementById('num1Apples').innerHTML += '<img src="./images/apple.png">';
}
}

if (num2 === 0) {
document.getElementById('num2Apples').innerHTML = '<img src="./images/zero.png">';
} else {
// Set the explanation using apple images for num2
document.getElementById('num2Apples').innerHTML = '';
for (let i = 0; i < num2; i++) {
document.getElementById('num2Apples').innerHTML += '<img src="./images/apple.png">';
}
}

// Calculate the result based on the operator
let result;
switch (operator) {
case '+':
result = num1 + num2;
break;
case '-':
result = num1 - num2;
break;
case '*':
result = num1 * num2;
break;
case '/':
result = Math.floor(num1 / num2);
break;
}

// Set the explanation for the result using apple images
document.getElementById('resultApples').innerHTML = '';
for (let i = 0; i < result; i++) {
document.getElementById('resultApples').innerHTML += '<img src="./images/apple.png">';
}

// Speak the question using speech synthesis
const utterance = new SpeechSynthesisUtterance(`${num1} ${operatorText} ${num2}`);
speechSynthesis.speak(utterance);
}




   

    



 

    function checkAnswer() {
      const questionText = document.getElementById('questions').textContent;
      const [num1, operator, num2] = questionText.split(' ');
      const userAnswer = document.getElementById('answerInput').value;

      let correctAnswer;
      if (operator === '+') {
        correctAnswer = parseInt(num1) + parseInt(num2);
      } else if (operator === '-') {
        correctAnswer = parseInt(num1) - parseInt(num2);
      } else if (operator === '*') {
        correctAnswer = parseInt(num1) * parseInt(num2);
      } else if (operator === '/') {
        correctAnswer = parseInt(num1) / parseInt(num2);
      }

      if (parseInt(userAnswer) === correctAnswer) {
        document.getElementById('message').textContent = "Correct!";
        document.getElementById("message").style.color = "green";
               
        playSound(true);
        console.log('That is correct');
      } else {
        document.getElementById('message').textContent = "Incorrect!";
        document.getElementById("message").style.color = "red";
               
        playSound(false);
        console.log('That is Incorrect');
      }
    }

    function clearAnswer() {
      document.getElementById('answerInput').value = '';
    }
  
  
    function playSound(isCorrect) {
    const correctAudio = document.getElementById("Correct");
    const incorrectAudio = document.getElementById("Incorrect");

    // Pause any currently playing audio
    correctAudio.pause();
    correctAudio.currentTime = 0;
    incorrectAudio.pause();
    incorrectAudio.currentTime = 0;

    // Play the appropriate audio based on correctness
    if (isCorrect) {
        correctAudio.play();
    } else {
        incorrectAudio.play();
    }
}
  </script>

</body>
</html>
